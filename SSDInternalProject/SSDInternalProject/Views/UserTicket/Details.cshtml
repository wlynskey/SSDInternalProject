@model SSDInternalProject.ViewModels.UserTicketVM
@using SSDInternalProject.Repositories
@using SSDInternalProject.Controllers.Repositories
@using SSDInternalProject.ViewModels

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}

<h2>Details</h2>

<div>
    <h4>UserTicketVM</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            Name
        </dt>

        <dd>
            @{
                UserTicketRepo utRepo = new UserTicketRepo();
                UserRepo uRepo = new UserRepo();
                foreach (UserVM user in uRepo.GetUsrInfoList())
                {
                    if (Model.UserVMId == user.UserVMId)
                    {
                        UserVM u = uRepo.GetUserInfo(user.UserVMId);
                        string name = user.FirstName + " " + user.LastName + ", ";
                        @name
                    }
                }
            }
        </dd>

        <dt>
            Ticket ID
        </dt>

        <dd>
            @Html.DisplayFor(model => model.TicketVMId)
        </dd>

        <dt>
            Role
        </dt>

        <dd>
            @{
                RoleRepo rRepo = new RoleRepo();
                foreach (RoleVM role in rRepo.GetRolesList())
                {
                    if (item.RoleVMId == role.RoleVMId)
                    {
                        @role.Role
                    }
                }
            }
        </dd>

    </dl>
</div>
<p>
    @Html.ActionLink("Back to List", "TicketUsers", new { id = Model.TicketVMId })
</p>
